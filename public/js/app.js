(()=>{"use strict";class t extends Error{constructor(e){super(e),this.name="NotCharacterException",Object.setPrototypeOf(this,t.prototype)}}class e{static KEYBOARD_MAP=["","","","CANCEL","","","HELP","","BACK_SPACE","TAB","","","CLEAR","ENTER","ENTER_SPECIAL","","SHIFT","CONTROL","ALT","PAUSE","CAPS_LOCK","KANA","EISU","JUNJA","FINAL","HANJA","","ESCAPE","CONVERT","NONCONVERT","ACCEPT","MODECHANGE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","PRINTSCREEN","INSERT","DELETE","","0","1","2","3","4","5","6","7","8","9","COLON","SEMICOLON","LESS_THAN","EQUALS","GREATER_THAN","QUESTION_MARK","AT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","OS_KEY","","CONTEXT_MENU","","SLEEP","NUMPAD0","NUMPAD1","NUMPAD2","NUMPAD3","NUMPAD4","NUMPAD5","NUMPAD6","NUMPAD7","NUMPAD8","NUMPAD9","MULTIPLY","ADD","SEPARATOR","SUBTRACT","DECIMAL","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","","","","","","","","","NUM_LOCK","SCROLL_LOCK","WIN_OEM_FJ_JISHO","WIN_OEM_FJ_MASSHOU","WIN_OEM_FJ_TOUROKU","WIN_OEM_FJ_LOYA","WIN_OEM_FJ_ROYA","","","","","","","","","","","CIRCUMFLEX","EXCLAMATION","DOUBLE_QUOTE","HASH","DOLLAR","PERCENT","AMPERSAND","UNDERSCORE","OPEN_PAREN","CLOSE_PAREN","ASTERISK","PLUS","PIPE","HYPHEN_MINUS","OPEN_CURLY_BRACKET","CLOSE_CURLY_BRACKET","TILDE","","","","","VOLUME_MUTE","VOLUME_DOWN","VOLUME_UP","","","SEMICOLON","EQUALS","COMMA","MINUS","PERIOD","SLASH","BACK_QUOTE","","","","","","","","","","","","","","","","","","","","","","","","","OPEN_BRACKET","BACK_SLASH","CLOSE_BRACKET","QUOTE","","META","ALTGR","","WIN_ICO_HELP","WIN_ICO_00","","WIN_ICO_CLEAR","","","WIN_OEM_RESET","WIN_OEM_JUMP","WIN_OEM_PA1","WIN_OEM_PA2","WIN_OEM_PA3","WIN_OEM_WSCTRL","WIN_OEM_CUSEL","WIN_OEM_ATTN","WIN_OEM_FINISH","WIN_OEM_COPY","WIN_OEM_AUTO","WIN_OEM_ENLW","WIN_OEM_BACKTAB","ATTN","CRSEL","EXSEL","EREOF","PLAY","ZOOM","","PA1","WIN_OEM_CLEAR",""];static TYPEABLE_KEYS=[{keyCode:48,char:"0",shiftChar:")"},{keyCode:49,char:"1",shiftChar:"!"},{keyCode:50,char:"2",shiftChar:"@"},{keyCode:51,char:"3",shiftChar:"#"},{keyCode:52,char:"4",shiftChar:"$"},{keyCode:53,char:"5",shiftChar:"%"},{keyCode:54,char:"6",shiftChar:"^"},{keyCode:55,char:"7",shiftChar:"&"},{keyCode:56,char:"8",shiftChar:"*"},{keyCode:57,char:"9",shiftChar:"("},{keyCode:65,char:"a",shiftChar:"A"},{keyCode:66,char:"b",shiftChar:"B"},{keyCode:67,char:"c",shiftChar:"C"},{keyCode:68,char:"d",shiftChar:"D"},{keyCode:69,char:"e",shiftChar:"E"},{keyCode:70,char:"f",shiftChar:"F"},{keyCode:71,char:"g",shiftChar:"G"},{keyCode:72,char:"h",shiftChar:"H"},{keyCode:73,char:"i",shiftChar:"I"},{keyCode:74,char:"j",shiftChar:"J"},{keyCode:75,char:"k",shiftChar:"K"},{keyCode:76,char:"l",shiftChar:"L"},{keyCode:77,char:"m",shiftChar:"M"},{keyCode:78,char:"n",shiftChar:"N"},{keyCode:79,char:"o",shiftChar:"O"},{keyCode:80,char:"p",shiftChar:"P"},{keyCode:81,char:"q",shiftChar:"Q"},{keyCode:82,char:"r",shiftChar:"R"},{keyCode:83,char:"s",shiftChar:"S"},{keyCode:84,char:"t",shiftChar:"T"},{keyCode:85,char:"u",shiftChar:"U"},{keyCode:86,char:"v",shiftChar:"V"},{keyCode:87,char:"w",shiftChar:"W"},{keyCode:88,char:"x",shiftChar:"X"},{keyCode:89,char:"y",shiftChar:"Y"},{keyCode:90,char:"z",shiftChar:"Z"},{keyCode:32,char:" ",shiftChar:" "},{keyCode:186,char:";",shiftChar:":"},{keyCode:187,char:"=",shiftChar:"+"},{keyCode:188,char:",",shiftChar:"<"},{keyCode:189,char:"-",shiftChar:"_"},{keyCode:190,char:".",shiftChar:">"},{keyCode:191,char:"/",shiftChar:"?"},{keyCode:192,char:"`",shiftChar:"~"},{keyCode:219,char:"[",shiftChar:"{"},{keyCode:220,char:"\\",shiftChar:"|"},{keyCode:221,char:"]",shiftChar:"}"},{keyCode:222,char:"'",shiftChar:'"'}]}class r{character;keyCode;htmlElement;constructor(t){this.character="",this.keyCode=-1,this.htmlElement=document.createElement("span"),this.setCharacter(t)}setCharacter(e){if(!r.isCharacter(e))throw new t("Created or mutated a class Character with a string of characters.");this.character=e,this.keyCode=r.getCharacterKeyCode(e);const n=document.createElement("span"),s=document.createTextNode(e);return n.appendChild(s),n.classList.add("letter"),this.htmlElement=n,this}isTypeable(){return r.isTypeable(this.getCharacter())}getCharacter(){return this.character}getCharacterKeyCode(){return this.keyCode}getHtmlElement(){return this.htmlElement}toHtml(){return this.getHtmlElement().outerHTML}toString(){return this.getCharacter()}static isTypeable(t){return!!r.isCharacter(t)&&e.TYPEABLE_KEYS.some((e=>e.char===t||e.shiftChar===t))}static getCharacterKeyCode(t){if(""===t)return-1;const r=e.KEYBOARD_MAP.findIndex((e=>e.toLowerCase()===t.toLowerCase()));if(-1!==r)return r;const n=e.TYPEABLE_KEYS.find((e=>e.char===t||e.shiftChar===t));return n?n.keyCode:-1}static getCharacterShift(t){if(!r.isTypeable(t))return"";const n=e.TYPEABLE_KEYS.find((e=>e.char===t||e.shiftChar===t));return n?.shiftChar??""}static isCharacter(t){return"string"==typeof t&&1===t.length}}class n extends Error{constructor(t){super(t),this.name="NotTypeableCharacterException",Object.setPrototypeOf(this,n.prototype)}}class s extends r{constructor(t){if(!r.isTypeable(t))throw new n("Created a class Letter with a non-typeable character.");super(t)}}class o{word;htmlElement;constructor(t){this.word=[],this.htmlElement=document.createElement("div"),this.htmlElement.classList.add("word");for(const e of t){const t=new s(e);this.word.push(t),this.htmlElement.appendChild(t.getHtmlElement())}}[Symbol.iterator](){let t=0,e=this.word;return{next:()=>t<e.length?{value:e[t++],done:!1}:{value:e[t],done:!0}}}toString(){return this.word.reduce(((t,e)=>t+e.getCharacter()),"")}getHtmlElement(){return this.htmlElement}toHtml(){return this.getHtmlElement().outerHTML}static isWord(t){return t instanceof this}}class a extends Error{constructor(t){super(t),this.name="NullSentenceTypeException",Object.setPrototypeOf(this,a.prototype)}}function i(t,e){e||(e={}),e.duration=e.duration??10;let r=1,n=!1,s=!1,o=!1,a=setInterval((()=>{n?r>=1?(clearInterval(a),t.style.opacity="1",e?.onComplete&&!s&&(s=!0,e.onComplete())):(r+=.05,t.style.opacity=r.toString()):r<=0?(n=!0,t.style.opacity="0",e?.onSecondHalf&&!o&&(o=!0,e.onSecondHalf())):(r-=.05,t.style.opacity=r.toString())}),e.duration)}class h{static element=document.getElementById("caret");static reset(){return h}static hide(){return h.element.style.display="none",h}static show(){return h.element.style.display="",h}static fadeOutIn(){return h.element.style.animation="none",h.element.style.opacity="0",i(h.element,{onComplete:()=>{h.element.offsetHeight,h.element.style.animation=""}}),h}}const c=new Event("appendsentence"),d=new Event("wordsloaded");function C(t,e){return Math.floor(Math.random()*(e-t+1))+t}class l{sentence;element;constructor(){this.element=document.getElementById("words"),this.reset()}[Symbol.iterator](){let t=0,e=this.sentence;return{next:()=>t<e.length?{value:e[t++],done:!1}:{value:e[t],done:!0}}}isElementEmpty(){return null===this.element}getElement(){return this.element}toString(){return this.sentence.map((t=>t.toString())).join(" ")}setSentence(t){if("string"==typeof t)for(const e of t.split(" "))this.sentence.push(new o(e));else{if(!Array.isArray(t))throw new Error("Appending words in sentence not using Word[] or string");for(const e of t){if(!o.isWord(e))throw new Error("Appending words in sentence not using class Word");this.sentence.push(e)}}return this}reset(){return this.sentence=[],this.element.replaceChildren(),this}appendToDOM(){if(this.isElementEmpty())return this;const t=this.getElement();return h.fadeOutIn(),i(t,{onSecondHalf:()=>{for(const e of this.sentence)t.appendChild(e.getHtmlElement());document.dispatchEvent(c)}}),this}isLoaded(){return this.sentence.length>0}generate(){if(!_.isWordsLoaded())return this;if(null===_.settings.wordType)throw new a("No word type is set.");if(_.settings.language,"quotes"===_.settings.wordType){const e=(t=window.ENGLISH_QUOTES.quotes)[Math.floor(Math.random()*t.length)];return _.settings.setWordCount(e.length),this.setSentence(e.text),this}var t;if(0===_.settings.wordCount)throw new a("No sentence size is set.");let e=[];return e=e.concat(window.ENGLISH.words,window.ENGLISH_1K.words),e=[...new Set(e)],this.setSentence(function(t){for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}(e).slice(0,_.settings.wordCount).map((t=>{if(_.settings.punctuation&&C(0,1)){const e=[".",",","?","!",'""',"()"],r=e[C(0,e.length-1)];return 2===r.length?`${r[0]}${t}${r[1]}`:`${t}${r[0]}`}return _.settings.numbers&&C(0,1)?C(0,9999).toString():t})).join(" ")),this}size(){return this.sentence.length}}class E extends Error{constructor(t){super(t),this.name="UtilityRequestException",Object.setPrototypeOf(this,E.prototype)}}async function u(t,e,r){if(!t)throw new E("Empty URI Request");r||(r={}),e&&("object"==typeof e&&(e=JSON.stringify(e)),r.body=e),r.method="GET";const n=await fetch(t,r);return"text"===r?.responseType?await n.text():await n.json()}class y{static _wordType=null;static _wordCount=10;static _language=null;static _punctuation=!1;static _numbers=!1;static _duration=10;static isReady(){return!(!y._language||!y._wordType||!y._wordCount&&!y._duration)}static get duration(){return y._duration}static setDuration(t){return y._duration=t<0?0:t,y}static get wordType(){return y._wordType}static setWordType(t){return y._wordType=t,y}static get wordCount(){return y._wordCount}static setWordCount(t){return y._wordCount=t,y}static get language(){return y._language}static setLanguage(t){return y._language=t,y}static get punctuation(){return y._punctuation}static togglePunctuation(){return y._punctuation=!y._punctuation,y}static get numbers(){return y._numbers}static toggleNumbers(){return y._numbers=!y._numbers,y}}class _{static sentence=new l;static settings=y;static _isWordsLoaded=!1;static _isIconsLoaded=!1;static isWordsLoaded(){return _._isWordsLoaded}static isIconsLoaded(){return _._isIconsLoaded}static async loadAllWords(){_._isWordsLoaded=!1;try{await Promise.all([u("/words/english_1k.json").then((t=>{window.ENGLISH_1K=t})),u("/words/english_5k.json").then((t=>{window.ENGLISH_5K=t})),u("/words/english_10k.json").then((t=>{window.ENGLISH_10K=t})),u("/words/english_25k.json").then((t=>{window.ENGLISH_25K=t})),u("/words/english.json").then((t=>{window.ENGLISH=t})),u("/words/english_quotes.json").then((t=>{window.ENGLISH_QUOTES=t}))]),_._isWordsLoaded=!0,document.dispatchEvent(d)}catch(t){console.error(t)}}static start(){_.sentence.isLoaded()}}function f(t){return document.querySelector(t)}const g={config:()=>{document.querySelectorAll("#config button.config").forEach((t=>{t.addEventListener("click",(()=>{t.classList.contains("punctuation")?_.settings.togglePunctuation():t.classList.contains("numbers")&&_.settings.toggleNumbers(),i(t,{duration:5}),_.sentence.reset().generate().appendToDOM(),t.classList.toggle("active")}))}))},caretHeightHandler:()=>{const t=f("#words > .word").offsetHeight;t.toString()!==h.element.style.height&&h.element.style.setProperty("height",`${t}px`)},wordsContainerHeightHandler:()=>{const t=f("#words > .word").offsetHeight;f("#words").style.setProperty("height",`calc((${t}px * 3) + (0.5em * 2))`)},init:async()=>{await _.loadAllWords(),_.settings.setWordType("words").setWordCount(50),_.sentence.reset().generate().appendToDOM(),g.config(),window.addEventListener("resize",(()=>{g.caretHeightHandler(),g.wordsContainerHeightHandler()})),document.addEventListener("appendsentence",(()=>{g.caretHeightHandler(),g.wordsContainerHeightHandler()}))}};var m;m=g.init,"loading"!==document.readyState?m():document.addEventListener("DOMContentLoaded",m,{once:!0})})();